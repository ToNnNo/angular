<header>
  <h2>Les services</h2>
</header>

<form [formGroup]="form" (submit)="addProduct()">
  <table class="table">
    <thead>
      <tr>
        <td>#</td>
        <td>Name</td>
        <td>Price</td>
        <td></td>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of products; index as index">
        <td>{{ index+1 }}</td>
        <td>{{ product.name }}</td>
        <td>{{ product.price }}</td>
        <td>
          <div class="btn-group">
            <button type="button" class="btn btn-outline-primary" (click)="editProduct(index)">Modifier</button>
            <button type="button" class="btn btn-outline-danger" (click)="deleteProduct(index)">Supprimer</button>
          </div>
        </td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td></td>
        <td>
          <input type="text" class="form-control" placeholder="Product name ..."
                 formControlName="name" [ngClass]="{'is-invalid': name.invalid && name.touched }" />
        </td>
        <td>
          <input type="text" class="form-control" placeholder="Product price ..."
                 formControlName="price" [ngClass]="{'is-invalid': price.invalid && price.touched }"/>
        </td>
        <td>
          <div class="btn-group">
            <input type="submit" class="btn btn-outline-primary" [value]="btn" />
            <button type="button" class="btn btn-outline-secondary" *ngIf="selected" (click)="resetForm()">Annuler</button>
          </div>
        </td>
      </tr>
    </tfoot>
  </table>
</form>
